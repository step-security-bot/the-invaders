---
title: Weekly Update #2
layout: post
---
## Windows update hell
The [lispgames/sdl2-ttf](https://github.com/lispgames/cl-sdl2-ttf) is broken on Windows, should file a bug, but it is likely a [*it works on my machine*](https://hackernoon.com/it-works-on-my-machine-f7a1e3d90c63) issue.
I have spent two days trying to understand the problem and I have backtracked to
creating the cffi interfaces by hand.

## SDL 2.0 is cross platform Windows, Mac and Linux
While SDL 2 is cross platform many develorers don't test on all plaforms.
The main SDL 2.0 api is very large so the cffi binding are generated with [cl-autowrap](https://github.com/rpav/cl-autowrap). cl-autowrap reads the parsed AST generated by [c2ffi](https://github.com/rpav/c2ffi) which generates spec files from the [clang](https://clang.llvm.org/) compiler of llvm. This is a very promising technical solution based useful compiler but, when clang or llvm upgrades versions c2ffi must be updated, c2ffi is effectively an extension of the clang software.

## To correctly compile c2ffi from scratch
I really should have clang that was compiled in clang on the same platform as you wish to compile c2ffi. Downloading of llvm/clang from the repo take me a long time. The expected compile time is very long. This makes hand coding the smallAPI for sdl2_ttf, sdl2_image and sdl_mixer seem the easier route for me.

## The Plan for the week ahead.
cffi coding for sdl2_ttf, sdl2_image and sdl2_mixer and testing.